# ucf-spring2017-cis3360-program1-hillcipher
bash shell script for automated testing of hillcipher program

This is a bash shell script that automates testing of the hillcipher program for UCF Spring 2017 CIS 3360 program assignment 1.

The shell script (run-test-cases.sh) will work for a C source code file named 'hillcipher.c'. (See below for possible modifications for java files.)

Here's what it does:

1. Compiles the file 'hillcipher.c' to a 'hillcipher' executable. Prints a message if 'hillcipher.c' fails to compile.
2. Runs the 'hillcipher' executable for each key file (e.g., 'inkey1.txt') and text file (e.g., 'infile1.txt'), and writes the output to a file (e.g., 'out-key1-file1.txt'). Prints a message if the 'hillcipher' executable crashes.
3. Compares the output file to the sample output file and prints either 'PASS' or 'fail (output does not match)'.


To use the shell script:
1. Copy the shell script and the sample output files to a directory in Eustis.
2. Copy the sample input files (inkey1.txt, infile1.txt, etc.) to the same directory in Eustis.
3. Copy your hillcipher.c file to the same directory in Eustis.
4. Make the script executable by running the command 'chmod -x run-test-cases.sh'.
5. From within the directory where the files are located, run the command './run-test-cases.sh'.

If everything works properly, you should see something like:

Checking key1 file1... PASS!
Checking key1 file2... PASS!
Checking key1 file3... PASS!
Checking key2 file1... PASS!
Checking key2 file2... PASS!
Checking key2 file3... PASS!
Checking key3 file1... PASS!
Checking key3 file2... PASS!
Checking key3 file3... PASS!
Checking key4 file4... PASS!


If your hillcipher.c fails to compile, you'll see:

fail (failed to compile)


If your program compiles, but crashes during execution, you'll see:

Checking key1 file 1... fail (program crashed)


If your program runs properly, but does not generate the same output as the sample output file, you'll see:

Checking key1 file1... fail (output does not match)


Some technical details:

1. The shell script uses the 'diff' command to compare the output generated by your program to the sample output files.
2. The '-B' option is used with the 'diff' command to ignore blank lines. This means that if your output has more or less blank lines than the sample output, the program will pass.
3. For example, the sample output (output-key1-file1.txt) for inkey1.txt and infile1.txt is:



Key matrix:

2 5
3 7


Plaintext:

abcdefghijklmnopqrstuvwxyz


Ciphertext:

fhtbhvvpjjxdlxzrnlbfpzdtrn


It begins with two blank lines, then 'Key matrix:', then one blank line. This is followed by two blank lines, then 'Plaintext:', etc. If the output from your program, for example, has only one blank line before 'Key matrix:' instead of two, the test will still pass.

I've attempted to make the sample output files exactly match the output provided in the p1TestOutput.pdf file. I'm not sure how closely the graders will expect the number of blank lines in your output to match those in the test output.

I'm not an expert in bash shell scripting, but this script seems to work for me in the Eustis linux environment. You may have to modify it slightly to work on your home computer. (Specifically, you may need to modify line 6 'gcc hillcipher.c -o hillcipher' to match the compiler on your home computer. On a Mac, you can use 'cc hillcipher.c -o hillcipher'. Not sure if that would also work on a Windows computer, but it might.

I haven't tested the script with java, but I believe that a couple of modifications might make it work:

1. Change line 6 to 'javac hillcipher.java'.
2. Change line 33 to 'java hillcipher inkey$i.txt infile$j.txt > out-key$i-file$j.txt'.


This script is closely modeled on similar testing scripts provided by Dr. Sean Szumlanski for COP 3503 Fall 2016 at UCF.
